{"paragraphs":[{"text":"%md\nСначала проверяем местонахождение, наличие таблиц и прочего","user":"shmill@yandex.ru","dateUpdated":"2021-06-20T08:33:39+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>Сначала проверяем местонахождение, наличие таблиц и прочего</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1624177998055_1377073168","id":"20210620-083318_1782865053","dateCreated":"2021-06-20T08:33:18+0000","dateStarted":"2021-06-20T08:33:39+0000","dateFinished":"2021-06-20T08:33:39+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:3979"},{"text":"%sh\nls /home/deng/Data","user":"shmill@yandex.ru","dateUpdated":"2021-06-20T08:35:38+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"editorMode":"ace/mode/sh"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"capital.csv\ncapital.json\ncontinent.json\ncountries_of_the_world.csv\ncurrency.json\niso3.json\nnames.json\nnobel-laureates.csv\nphone.json\nworldcitiespop.csv\n"}]},"apps":[],"jobName":"paragraph_1624178099356_-206822162","id":"20210620-083459_2092322380","dateCreated":"2021-06-20T08:34:59+0000","dateStarted":"2021-06-20T08:35:38+0000","dateFinished":"2021-06-20T08:35:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3980"},{"text":"%sh\ncat /home/deng/Data/capital.json","user":"shmill@yandex.ru","dateUpdated":"2021-06-20T08:42:42+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"editorMode":"ace/mode/sh"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"{\"BD\": \"Dhaka\", \"BE\": \"Brussels\", \"BF\": \"Ouagadougou\", \"BG\": \"Sofia\", \"BA\": \"Sarajevo\", \"BB\": \"Bridgetown\", \"WF\": \"Mata Utu\", \"BL\": \"Gustavia\", \"BM\": \"Hamilton\", \"BN\": \"Bandar Seri Begawan\", \"BO\": \"Sucre\", \"BH\": \"Manama\", \"BI\": \"Bujumbura\", \"BJ\": \"Porto-Novo\", \"BT\": \"Thimphu\", \"JM\": \"Kingston\", \"BV\": \"\", \"BW\": \"Gaborone\", \"WS\": \"Apia\", \"BQ\": \"\", \"BR\": \"Brasilia\", \"BS\": \"Nassau\", \"JE\": \"Saint Helier\", \"BY\": \"Minsk\", \"BZ\": \"Belmopan\", \"RU\": \"Moscow\", \"RW\": \"Kigali\", \"RS\": \"Belgrade\", \"TL\": \"Dili\", \"RE\": \"Saint-Denis\", \"TM\": \"Ashgabat\", \"TJ\": \"Dushanbe\", \"RO\": \"Bucharest\", \"TK\": \"\", \"GW\": \"Bissau\", \"GU\": \"Hagatna\", \"GT\": \"Guatemala City\", \"GS\": \"Grytviken\", \"GR\": \"Athens\", \"GQ\": \"Malabo\", \"GP\": \"Basse-Terre\", \"JP\": \"Tokyo\", \"GY\": \"Georgetown\", \"GG\": \"St Peter Port\", \"GF\": \"Cayenne\", \"GE\": \"Tbilisi\", \"GD\": \"St. George's\", \"GB\": \"London\", \"GA\": \"Libreville\", \"SV\": \"San Salvador\", \"GN\": \"Conakry\", \"GM\": \"Banjul\", \"GL\": \"Nuuk\", \"GI\": \"Gibraltar\", \"GH\": \"Accra\", \"OM\": \"Muscat\", \"TN\": \"Tunis\", \"JO\": \"Amman\", \"HR\": \"Zagreb\", \"HT\": \"Port-au-Prince\", \"HU\": \"Budapest\", \"HK\": \"Hong Kong\", \"HN\": \"Tegucigalpa\", \"HM\": \"\", \"VE\": \"Caracas\", \"PR\": \"San Juan\", \"PS\": \"East Jerusalem\", \"PW\": \"Melekeok\", \"PT\": \"Lisbon\", \"SJ\": \"Longyearbyen\", \"PY\": \"Asuncion\", \"IQ\": \"Baghdad\", \"PA\": \"Panama City\", \"PF\": \"Papeete\", \"PG\": \"Port Moresby\", \"PE\": \"Lima\", \"PK\": \"Islamabad\", \"PH\": \"Manila\", \"PN\": \"Adamstown\", \"PL\": \"Warsaw\", \"PM\": \"Saint-Pierre\", \"ZM\": \"Lusaka\", \"EH\": \"El-Aaiun\", \"EE\": \"Tallinn\", \"EG\": \"Cairo\", \"ZA\": \"Pretoria\", \"EC\": \"Quito\", \"IT\": \"Rome\", \"VN\": \"Hanoi\", \"SB\": \"Honiara\", \"ET\": \"Addis Ababa\", \"SO\": \"Mogadishu\", \"ZW\": \"Harare\", \"SA\": \"Riyadh\", \"ES\": \"Madrid\", \"ER\": \"Asmara\", \"ME\": \"Podgorica\", \"MD\": \"Chisinau\", \"MG\": \"Antananarivo\", \"MF\": \"Marigot\", \"MA\": \"Rabat\", \"MC\": \"Monaco\", \"UZ\": \"Tashkent\", \"MM\": \"Nay Pyi Taw\", \"ML\": \"Bamako\", \"MO\": \"Macao\", \"MN\": \"Ulan Bator\", \"MH\": \"Majuro\", \"MK\": \"Skopje\", \"MU\": \"Port Louis\", \"MT\": \"Valletta\", \"MW\": \"Lilongwe\", \"MV\": \"Male\", \"MQ\": \"Fort-de-France\", \"MP\": \"Saipan\", \"MS\": \"Plymouth\", \"MR\": \"Nouakchott\", \"IM\": \"Douglas, Isle of Man\", \"UG\": \"Kampala\", \"TZ\": \"Dodoma\", \"MY\": \"Kuala Lumpur\", \"MX\": \"Mexico City\", \"IL\": \"Jerusalem\", \"FR\": \"Paris\", \"IO\": \"Diego Garcia\", \"SH\": \"Jamestown\", \"FI\": \"Helsinki\", \"FJ\": \"Suva\", \"FK\": \"Stanley\", \"FM\": \"Palikir\", \"FO\": \"Torshavn\", \"NI\": \"Managua\", \"NL\": \"Amsterdam\", \"NO\": \"Oslo\", \"NA\": \"Windhoek\", \"VU\": \"Port Vila\", \"NC\": \"Noumea\", \"NE\": \"Niamey\", \"NF\": \"Kingston\", \"NG\": \"Abuja\", \"NZ\": \"Wellington\", \"NP\": \"Kathmandu\", \"NR\": \"Yaren\", \"NU\": \"Alofi\", \"CK\": \"Avarua\", \"XK\": \"Pristina\", \"CI\": \"Yamoussoukro\", \"CH\": \"Berne\", \"CO\": \"Bogota\", \"CN\": \"Beijing\", \"CM\": \"Yaounde\", \"CL\": \"Santiago\", \"CC\": \"West Island\", \"CA\": \"Ottawa\", \"CG\": \"Brazzaville\", \"CF\": \"Bangui\", \"CD\": \"Kinshasa\", \"CZ\": \"Prague\", \"CY\": \"Nicosia\", \"CX\": \"Flying Fish Cove\", \"CR\": \"San Jose\", \"CW\": \" Willemstad\", \"CV\": \"Praia\", \"CU\": \"Havana\", \"SZ\": \"Mbabane\", \"SY\": \"Damascus\", \"SX\": \"Philipsburg\", \"KG\": \"Bishkek\", \"KE\": \"Nairobi\", \"SS\": \"Juba\", \"SR\": \"Paramaribo\", \"KI\": \"Tarawa\", \"KH\": \"Phnom Penh\", \"KN\": \"Basseterre\", \"KM\": \"Moroni\", \"ST\": \"Sao Tome\", \"SK\": \"Bratislava\", \"KR\": \"Seoul\", \"SI\": \"Ljubljana\", \"KP\": \"Pyongyang\", \"KW\": \"Kuwait City\", \"SN\": \"Dakar\", \"SM\": \"San Marino\", \"SL\": \"Freetown\", \"SC\": \"Victoria\", \"KZ\": \"Astana\", \"KY\": \"George Town\", \"SG\": \"Singapur\", \"SE\": \"Stockholm\", \"SD\": \"Khartoum\", \"DO\": \"Santo Domingo\", \"DM\": \"Roseau\", \"DJ\": \"Djibouti\", \"DK\": \"Copenhagen\", \"VG\": \"Road Town\", \"DE\": \"Berlin\", \"YE\": \"Sanaa\", \"DZ\": \"Algiers\", \"US\": \"Washington\", \"UY\": \"Montevideo\", \"YT\": \"Mamoudzou\", \"UM\": \"\", \"LB\": \"Beirut\", \"LC\": \"Castries\", \"LA\": \"Vientiane\", \"TV\": \"Funafuti\", \"TW\": \"Taipei\", \"TT\": \"Port of Spain\", \"TR\": \"Ankara\", \"LK\": \"Colombo\", \"LI\": \"Vaduz\", \"LV\": \"Riga\", \"TO\": \"Nuku'alofa\", \"LT\": \"Vilnius\", \"LU\": \"Luxembourg\", \"LR\": \"Monrovia\", \"LS\": \"Maseru\", \"TH\": \"Bangkok\", \"TF\": \"Port-aux-Francais\", \"TG\": \"Lome\", \"TD\": \"N'Djamena\", \"TC\": \"Cockburn Town\", \"LY\": \"Tripolis\", \"VA\": \"Vatican City\", \"VC\": \"Kingstown\", \"AE\": \"Abu Dhabi\", \"AD\": \"Andorra la Vella\", \"AG\": \"St. John's\", \"AF\": \"Kabul\", \"AI\": \"The Valley\", \"VI\": \"Charlotte Amalie\", \"IS\": \"Reykjavik\", \"IR\": \"Tehran\", \"AM\": \"Yerevan\", \"AL\": \"Tirana\", \"AO\": \"Luanda\", \"AQ\": \"\", \"AS\": \"Pago Pago\", \"AR\": \"Buenos Aires\", \"AU\": \"Canberra\", \"AT\": \"Vienna\", \"AW\": \"Oranjestad\", \"IN\": \"New Delhi\", \"AX\": \"Mariehamn\", \"AZ\": \"Baku\", \"IE\": \"Dublin\", \"ID\": \"Jakarta\", \"UA\": \"Kiev\", \"QA\": \"Doha\", \"MZ\": \"Maputo\"}"}]},"apps":[],"jobName":"paragraph_1624178138026_1035752867","id":"20210620-083538_289084433","dateCreated":"2021-06-20T08:35:38+0000","dateStarted":"2021-06-20T08:42:42+0000","dateFinished":"2021-06-20T08:42:42+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3981"},{"text":"%md\nТеперь создаем базу и таблицы","user":"shmill@yandex.ru","dateUpdated":"2021-06-20T08:43:37+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>Теперь создаем базу и таблицы</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1624178562276_306618967","id":"20210620-084242_458448781","dateCreated":"2021-06-20T08:42:42+0000","dateStarted":"2021-06-20T08:43:37+0000","dateFinished":"2021-06-20T08:43:37+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3982"},{"text":"%hive\ncreate database if not exists shishlo_staging","user":"shmill@yandex.ru","dateUpdated":"2021-06-20T08:44:09+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"}]},"apps":[],"jobName":"paragraph_1624178617218_1432378015","id":"20210620-084337_696423400","dateCreated":"2021-06-20T08:43:37+0000","dateStarted":"2021-06-20T08:44:09+0000","dateFinished":"2021-06-20T08:44:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3983"},{"text":"%hive\nCREATE TABLE IF NOT EXISTS shishlo_staging.continent (\n`Longitude` float\n);\n\nCREATE TABLE IF NOT EXISTS shishlo_staging.countries (\n`Country` varchar(255),\n`Region` varchar(255),\n`Population` varchar(255),\n`country_iso2` varchar(2),\n`continent_iso2` varchar(2)\n);\n\nCREATE TABLE IF NOT EXISTS shishlo_staging.Capital(\n`country_iso2` varchar(2),\n`capital` varchar(255)\n);\n\nCREATE TABLE IF NOT EXISTS shishlo_staging.currency (\n`country_iso2` varchar(2),\n`currency` varchar(3)\n);\n\nCREATE TABLE IF NOT EXISTS shishlo_staging.country_iso3 (\n`country_iso2` varchar(2),\n`country_iso3` varchar(3)\n);\n\nCREATE TABLE IF NOT EXISTS shishlo_staging.country_names (\n`country_iso2` varchar(2),\n`country_names` varchar(255)\n);\n\nCREATE TABLE IF NOT EXISTS shishlo_staging.phone (\n`country_iso2` varchar(2),\n`phone` varchar(10)\n);\n\nCREATE TABLE IF NOT EXISTS shishlo_staging.cities (\n`Country` varchar(2),\n`City` varchar(255),\n`AccentCity` varchar(255),\n`Region` varchar(2),\n`Population` float,\n`Latitude` float,\n`Area` int,\n`Pop_Density` float,\n`Coastline` float,\n`Net migration` float,\n`Infant mortality` float,\n`GDP` float,\n`Literacy (%)` float,\n`Phones (per 1000)` float,\n`Arable (%)` float,\n`Crops (%)` float,\n`Other (%)` float,\n`Climate` int,\n`Birthrate` float,\n`Deathrate` float,\n`Agriculture` float,\n`Industry` float,\n`Service` float\n);\n\nCREATE TABLE IF NOT EXISTS shishlo_staging.laureates (\n`Year` date,\n`Category` varchar(255),\n`Prize` varchar(255),\n`Motivation` varchar(255),\n`Prize Share` varchar(3),\n`Laureate ID` int,\n`Laureate Type` varchar(255),\n`Full Name` varchar(255),\n`Birth Date` date,\n`Birth City` varchar(255),\n`Birth Country` varchar(255),\n`Sex` varchar(6),\n`Organization Name` varchar(255),\n`Organization City` varchar(255),\n`Organization Country` varchar(255),\n`Death Date` date,\n`Death City` varchar(255),\n`Death Country` varchar(255)\n);","user":"shmill@yandex.ru","dateUpdated":"2021-06-20T08:53:53+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1624178649476_-189724566","id":"20210620-084409_1725883998","dateCreated":"2021-06-20T08:44:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3984","dateFinished":"2021-06-20T08:53:55+0000","dateStarted":"2021-06-20T08:53:53+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"}]}},{"text":"%hive\nshow tables from shishlo_staging","user":"shmill@yandex.ru","dateUpdated":"2021-06-20T08:54:26+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"tab_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1624179233942_762304378","id":"20210620-085353_1168217226","dateCreated":"2021-06-20T08:53:53+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:4179","dateFinished":"2021-06-20T08:54:26+0000","dateStarted":"2021-06-20T08:54:26+0000","results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"tab_name\ncapital\ncities\ncontinent\ncountries\ncountry_iso3\ncountry_names\ncurrency\nlaureates\nphone\n"}]}},{"text":"%hive\n","user":"shmill@yandex.ru","dateUpdated":"2021-06-20T08:54:26+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1624179266271_-934750670","id":"20210620-085426_2060100236","dateCreated":"2021-06-20T08:54:26+0000","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:4427"}],"name":"shishlo_2.9","id":"2G87STK2G","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"spark:shmill@yandex.ru:":[],"python:shared_process":[],"mysql:shared_process":[],"sh:shared_process":[],"hive:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}